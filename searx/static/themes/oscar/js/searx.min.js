requirejs.config({baseUrl:"./static/themes/oscar/js",paths:{app:"../app"}}),window.searx=function(t){"use strict";var a,e=t.currentScript||(a=t.getElementsByTagName("script"))[a.length-1];return{autocompleter:"true"===e.getAttribute("data-autocompleter"),method:e.getAttribute("data-method")}}(document),searx.autocompleter&&(searx.searchResults=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"./autocompleter?q=%QUERY"}),searx.searchResults.initialize()),$(document).ready(function(){var e="";searx.autocompleter&&($("#q").on("keydown",function(t){13==t.which&&(e=$("#q").val())}),$("#q").typeahead(null,{name:"search-results",displayKey:function(t){return t},source:searx.searchResults.ttAdapter()}),$("#q").bind("typeahead:selected",function(t,a){e&&$("#q").val(e),$("#search_form").submit()}))}),$(document).ready(function(){$("#q.autofocus").focus(),$(".select-all-on-click").click(function(){$(this).select()}),$(".btn-collapse").click(function(){var t=$(this).data("btn-text-collapsed"),a=$(this).data("btn-text-not-collapsed");""!==t&&""!==a&&(new_html=$(this).hasClass("collapsed")?$(this).html().replace(t,a):$(this).html().replace(a,t),$(this).html(new_html))}),$(".btn-toggle .btn").click(function(){var t="btn-"+$(this).data("btn-class"),a=$(this).data("btn-label-default"),e=$(this).data("btn-label-toggled");""!==e&&(new_html=$(this).hasClass("btn-default")?$(this).html().replace(a,e):$(this).html().replace(e,a),$(this).html(new_html)),$(this).toggleClass(t),$(this).toggleClass("btn-default")}),$(".media-loader").click(function(){var t=$(this).data("target"),a=$(t+" > iframe"),e=a.attr("src");void 0!==e&&!1!==e||a.attr("src",a.data("src"))}),$(".btn-sm").dblclick(function(){var t="btn-"+$(this).data("btn-class");$(this).hasClass("btn-default")?($(".btn-sm > input").attr("checked","checked"),$(".btn-sm > input").prop("checked",!0),$(".btn-sm").addClass(t),$(".btn-sm").addClass("active"),$(".btn-sm").removeClass("btn-default")):($(".btn-sm > input").attr("checked",""),$(".btn-sm > input").removeAttr("checked"),$(".btn-sm > input").checked=!1,$(".btn-sm").removeClass(t),$(".btn-sm").removeClass("active"),$(".btn-sm").addClass("btn-default"))}),$(".nav-tabs").click(function(t){$(t.target).parents("ul").children().attr("aria-selected","false"),$(t.target).parent().attr("aria-selected","true")})}),window.addEventListener("load",function(){$(".infobox").each(function(){var t=$(this).find(".infobox_body");t.prop("scrollHeight")+t.find("img.infobox_part").height()<=t.css("max-height").replace("px","")&&$(this).find(".infobox_toggle").hide()})}),$(document).ready(function(){$(".searx_overpass_request").on("click",function(t){var a="https://overpass-api.de/api/interpreter?data=[out:json][timeout:25];(",e=");out meta;",s=$(this).data("osm-id"),n=$(this).data("osm-type"),i=$(this).data("result-table"),o="#"+$(this).data("result-table-loadicon"),r=["addr:city","addr:country","addr:housenumber","addr:postcode","addr:street"];if(s&&n&&i){i="#"+i;var l=null;switch(n){case"node":l=a+"node("+s+");"+e;break;case"way":l=a+"way("+s+");"+e;break;case"relation":l=a+"relation("+s+");"+e}l&&$.ajax(l).done(function(t){if(t&&t.elements&&t.elements[0]){var a=t.elements[0],e=$(i).html();for(var s in a.tags)if(null===a.tags.name||-1==r.indexOf(s)){switch(e+="<tr><td>"+s+"</td><td>",s){case"phone":case"fax":e+='<a href="tel:'+a.tags[s].replace(/ /g,"")+'">'+a.tags[s]+"</a>";break;case"email":e+='<a href="mailto:'+a.tags[s]+'">'+a.tags[s]+"</a>";break;case"website":case"url":e+='<a href="'+a.tags[s]+'">'+a.tags[s]+"</a>";break;case"wikidata":e+='<a href="https://www.wikidata.org/wiki/'+a.tags[s]+'">'+a.tags[s]+"</a>";break;case"wikipedia":if(-1!=a.tags[s].indexOf(":")){e+='<a href="https://'+a.tags[s].substring(0,a.tags[s].indexOf(":"))+".wikipedia.org/wiki/"+a.tags[s].substring(a.tags[s].indexOf(":")+1)+'">'+a.tags[s]+"</a>";break}default:e+=a.tags[s]}e+="</td></tr>"}$(i).html(e),$(i).removeClass("hidden"),$(o).addClass("hidden")}}).fail(function(){$(o).html($(o).html()+'<p class="text-muted">'+could_not_load+"</p>")})}$(this).off(t)}),$(".searx_init_map").on("click",function(t){var n=$(this).data("leaflet-target"),i=$(this).data("map-lon"),o=$(this).data("map-lat"),r=$(this).data("map-zoom"),l=$(this).data("map-boundingbox"),c=$(this).data("map-geojson");require(["leaflet-0.7.3.min"],function(t){l&&(southWest=L.latLng(l[0],l[2]),northEast=L.latLng(l[1],l[3]),map_bounds=L.latLngBounds(southWest,northEast)),L.Icon.Default.imagePath="./static/themes/oscar/img/map";var a=L.map(n),e=new L.TileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{minZoom:1,maxZoom:19,attribution:'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'});new L.TileLayer("https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png",{minZoom:1,maxZoom:19,attribution:'Wikimedia maps beta | Maps data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'});map_bounds?setTimeout(function(){a.fitBounds(map_bounds,{maxZoom:17})},0):i&&o&&(r?a.setView(new L.LatLng(o,i),r):a.setView(new L.LatLng(o,i),8)),a.addLayer(e);var s={"OSM Mapnik":e};L.control.layers(s).addTo(a),c&&L.geoJson(c).addTo(a)}),$(this).off(t)})}),$(document).ready(function(){$("#allow-all-engines").click(function(){$(".onoffswitch-checkbox").each(function(){this.checked=!1})}),$("#disable-all-engines").click(function(){$(".onoffswitch-checkbox").each(function(){this.checked=!0})})});